<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html   xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"        
        xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Pizzaria PWE</title>  
    </h:head>

    <h:body> 
        <h:form>  
            <p:menubar>                
                <p:menuitem value="Fazer Pedido" action="index.xhtml"/>
                <p:menuitem value="Pizzas" url="pizza.xhtml"/>
                <p:menuitem value="Contato" url="contato.xhtml" />               
            </p:menubar>
        </h:form>
        
        
        <p:panel header="Novo Pedido" style="width:70%">
            <h:form id="form">
                <h:panelGrid id="grid" columns="2" cellspacing="6">
                    <p:outputLabel value="Cliente: " for="nomeCliente"/>
                    <p:inputText id="nomeCliente" value="#{PedidoBean.nomeCliente}" required="true" requiredMessage="Por favor informe o nome do cliente!"/>

                    <p:outputLabel value="Endereço: " for="endereco"/>
                    <p:inputText id="endereco" value="#{PedidoBean.endereco}" required="true" requiredMessage="Por favor informe o endereço do cliente!"/>

                    <p:outputLabel value="Escolha sua Pizza: " for="pizza"/>
                    <p:selectOneMenu id="pizza" value="#{PedidoBean.nomePizza}"> 
                        <f:selectItem itemValue = "Pizza de Mussarela" itemLabel = "Pizza de Mussarela" /> 
                        <f:selectItem itemValue = "Pizza de Calabresa" itemLabel = "Pizza de Calabresa" /> 
                        <f:selectItem itemValue = "Pizza de Frango com Catupiry" itemLabel = "Pizza de Frango com Catupiry" />
                    </p:selectOneMenu> 	

                    <p:outputLabel value="Complemento:" for="complemento"/>
                    <p:selectManyCheckbox id="complemento" value="#{PedidoBean.complemento}">
                        <f:selectItem itemLabel="Borda de Cheddar" itemValue="Borda de Cheddar" />
                        <f:selectItem itemLabel="Refrigerante 2L" itemValue="Refrigerante 2L" />
                        <f:selectItem itemLabel="Mini coxinhas" itemValue="Mini coxinhas" />
                    </p:selectManyCheckbox>     
                </h:panelGrid> 
                <p:separator />
                <p:remoteCommand name="rc" update="msgs" actionListener="#{remoteCommandView.execute}" /> 
                <p:growl id="msgs" showDetail="true" />
                <p:commandButton value="Fazer Pedido" onclick="rc()" action="#{PedidoBean.show}" styleClass="ui-priority-primary" icon="ui-icon-disk"/>                     
                <p:commandButton value="Limpar" immediate="true" type="reset" styleClass="ui-priority-primary"/>
                
                <p:commandButton value="Mostrar Pedido" onclick="PF('dlg').show();" type="button" />
                
                <p:dialog header="Seu pedido" widgetVar="dlg" dynamic="true">
                    <h:outputText value="Cliente: #{PedidoBean.pedidos.cliente.nome}" /><br></br>
                    <h:outputText value="Endereço: #{PedidoBean.pedidos.cliente.endereco}" /><br></br>
                    <h:outputText value="Produtos: #{PedidoBean.pedidos.produto.nome}" /><br></br>
                    <h:outputText value="Valor a pagar: #{PedidoBean.pedidos.produto.preco}" /><br></br>
                </p:dialog>                   
            </h:form>                       
            <br></br>
        </p:panel>
        <br />        
    </h:body>
</html>

